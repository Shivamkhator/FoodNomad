{% extends 'layout.html' %}
{% load static %}

{% block body %}
<div class="container" style="padding: 30px;">
    <h2>Edit Recipe: {{ recipe.title }}</h2>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <label for="title">Title:</label><br>
        <input type="text" id="title" name="title" value="{{ recipe.title }}" required><br><br>

        <label for="description">Description:</label><br>
        <textarea id="description" name="description" rows="3" required>{{ recipe.description }}</textarea><br><br>

        <label for="instructions">Instructions:</label><br>
        <textarea id="instructions" name="instructions" rows="5" required>{{ recipe.instructions }}</textarea><br><br>

        <label>
            <input type="checkbox" name="vegetarian" {% if recipe.vegetarian %}checked{% endif %}>
            Vegetarian
        </label><br><br>

        {% if recipe.image %}
            <p>Current Image:</p>
            <img src="{{ recipe.image.url }}" alt="Recipe Image" width="250"><br><br>
        {% endif %}

        <label for="image">Update Image (optional):</label><br>
        <input type="file" name="image"><br><br>

        <button type="submit">Update Recipe</button>
    </form>

    <br>
    <a href="{% url 'recipe_detail' recipe.id %}">Cancel</a>
</div>
{% endblock %}
