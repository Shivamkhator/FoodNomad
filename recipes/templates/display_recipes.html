{% extends 'layout.html' %}
{% load static %}

{% block body %}
   <div class="container">
    <h2>All Recipes</h2>
    
    {% if recipes %}
        <ul>
            {% for recipe in recipes %}
                <li>
                    <h3><a href="{% url 'recipe_detail' recipe.id %}">{{ recipe.title }}</a></h3>
                    <p><strong>Author:</strong> {{ recipe.author.username }}</p>
                    <p><strong>Vegetarian:</strong> {% if recipe.vegetarian %} Yes {% else %} No {% endif %}</p>
                    <p><strong>Created on:</strong> {{ recipe.created_at|date:"F d, Y" }}</p>
                    <a href="{% url 'update_recipe' recipe.id %}">Edit</a> | 
                    <a href="{% url 'delete_recipe' recipe.id %}" onclick="return confirm('Are you sure?')">Delete</a>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No recipes available. <a href="{% url 'create_recipe' %}">Create one!</a></p>
    {% endif %}
</div>

{% endblock %}
