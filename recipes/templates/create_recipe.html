{% extends 'layout.html' %}
{% load static %}

{% block title %}Create Recipe{% endblock %}

{% block body %}
<form method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  
  <input type="text" name="title" placeholder="Title"><br>
  <textarea name="description" placeholder="Description"></textarea><br>
  <textarea name="instructions" placeholder="Instructions"></textarea><br>
  <label><input type="checkbox" name="vegetarian"> Vegetarian</label><br>

  <label>Image:</label>
  <input type="file" name="image"><br><br>

  <div id="ingredients-container">
    <div class="ingredient-row">
      <input type="text" name="ingredient_name" placeholder="Ingredient">
      <input type="text" name="ingredient_quantity" placeholder="Quantity">
      <button type="button" onclick="removeRow(this)">Remove</button>
    </div>
  </div>
  <button type="button" onclick="addRow()">Add Ingredient</button><br><br>

  <button type="submit">Submit</button>
</form>

<script>
function addRow() {
  const container = document.getElementById('ingredients-container');
  const div = document.createElement('div');
  div.className = 'ingredient-row';
  div.innerHTML = `
    <input type="text" name="ingredient_name" placeholder="Ingredient">
    <input type="text" name="ingredient_quantity" placeholder="Quantity">
    <button type="button" onclick="removeRow(this)">Remove</button>
  `;
  container.appendChild(div);
}

function removeRow(button) {
  button.parentElement.remove();
}
</script>


{% endblock %}
